# üü• CONTRACT LEXICON

## Architecture Data Dictionary v1.0 (RESTRUCTURED, NO SEMANTIC CHANGE)

**Status:** NORMATIVE
**Scope:** All system contracts and modules
**Change policy:** versioned only
**Authority:** SSP-referenced document

---

# -1. ARCHITECTURE TYPE GOVERNANCE

**Status:** NORMATIVE
**Scope:** All architecture data contracts
**Authority:** SSP-referenced document

---

## -1.1 Single Source of Truth

–ù–∞—Å—Ç–æ—è—â–∏–π –¥–æ–∫—É–º–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è **–ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ú –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –∏—Å—Ç–∏–Ω—ã**
–æ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ç–∏–ø–∞—Ö –¥–∞–Ω–Ω—ã—Ö, –∏—Ö –ø–æ–ª—è—Ö –∏ enum-–∑–Ω–∞—á–µ–Ω–∏—è—Ö.

–õ—é–±–æ–π —Ç–∏–ø, –ø–æ–ª–µ –∏–ª–∏ enum-—ç–ª–µ–º–µ–Ω—Ç,
–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π –≤ –¥–∞–Ω–Ω–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ,
—Å—á–∏—Ç–∞–µ—Ç—Å—è **–ó–ê–ü–†–ï–©–Å–ù–ù–´–ú**.

---

## -1.2 Ownership of Architecture Types

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö:

* **–ù–ï –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è** –≤ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–º –∫–æ–¥–µ
* **–ù–ï –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è** –≤ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞–Ω–∏—è—Ö
* **–ù–ï –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç** –æ—Ç–¥–µ–ª—å–Ω—ã–º —Ä–æ–ª—è–º –∏–ª–∏ –º–æ–¥—É–ª—è–º

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ç–∏–ø—ã –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç
**–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å–∏—Å—Ç–µ–º—ã –≤ —Ü–µ–ª–æ–º**.

---

## -1.3 Master-Chat Authority Rule

–ù–∏ –æ–¥–∏–Ω Master-Chat **–ù–ï –ò–ú–ï–ï–¢ –ü–†–ê–í–ê**:

* –≤–≤–æ–¥–∏—Ç—å –Ω–æ–≤—ã–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Ç–∏–ø
* –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ–ª–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ç–∏–ø–∞
* –≤–≤–æ–¥–∏—Ç—å –Ω–æ–≤—ã–π enum –∏–ª–∏ enum-–∑–Ω–∞—á–µ–Ω–∏–µ
* –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã

–µ—Å–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
**–ù–ï –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–µ–π Lexicon**.

–ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ —Ç–∏–ø–∞
**–†–ê–ë–û–¢–ê –î–û–õ–ñ–ù–ê –ë–´–¢–¨ –û–°–¢–ê–ù–û–í–õ–ï–ù–ê**.

---

## -1.4 Separation from Implementation

–ö–æ–¥ **–ú–û–ñ–ï–¢ –¢–û–õ–¨–ö–û –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨**
–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ç–∏–ø—ã, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –≤ Lexicon.

–ö–æ–¥ **–ù–ï –ò–ú–ï–ï–¢ –ü–†–ê–í–ê**:

* –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∏–ø–æ–≤
* —Ä–∞—Å—à–∏—Ä—è—Ç—å –ø–æ–ª—è
* –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã ¬´–ø–æ —Å–º—ã—Å–ª—É¬ª

---

## -1.5 Audit Enforcement Rule

–õ—é–±–æ–π Audit-Chat –æ–±—è–∑–∞–Ω:

* –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –∫–æ–¥
* –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –¢–ó
* –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –æ–±—Å—É–∂–¥–µ–Ω–∏–µ

–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–∏–ø, –ø–æ–ª–µ –∏–ª–∏ enum,
–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –≤ Lexicon.

---

## -1.6 Interpretative Prohibition

–ü—Ä–∏ –ª—é–±–æ–º —Å–æ–º–Ω–µ–Ω–∏–∏,
—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ç–∏–ø —Ç—Ä–µ–±—É–µ–º–æ–π —Å—É—â–Ω–æ—Å—Ç–∏,
**–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –∑–∞–ø—Ä–µ—â–µ–Ω–∞**.

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ:

1. –∫–æ–¥ –Ω–µ –ø–∏—à–µ—Ç—Å—è
2. –¢–ó –Ω–µ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è
3. —Å–Ω–∞—á–∞–ª–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è Lexicon

---

# 0. PURPOSE

–î–æ–∫—É–º–µ–Ω—Ç —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç **–ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ï –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∏–º–µ–Ω–∞**
–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö –∏ –∏—Ö –ø–æ–ª–µ–π.

–õ—é–±–æ–µ –∏–º—è, –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–µ –∑–¥–µ—Å—å,
—Å—á–∏—Ç–∞–µ—Ç—Å—è **–ó–ê–ü–†–ï–©–Å–ù–ù–´–ú**.

---

# 1. GENERAL NAMING RULES

* –ò–º–µ–Ω–∞ —Ç–∏–ø–æ–≤ –∏ –ø–æ–ª–µ–π **–±—É–∫–≤–∞–ª—å–Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã**
* –†–µ–≥–∏—Å—Ç—Ä –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
* –°–∏–Ω–æ–Ω–∏–º—ã –∑–∞–ø—Ä–µ—â–µ–Ω—ã
* –ö–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–¥–∞—ë—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, –∞ –Ω–µ –∏–º–µ–Ω–µ–º –ø–æ–ª—è

---

# 2. ARCHITECTURAL ROOT TYPES

–í —Å–∏—Å—Ç–µ–º–µ –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è **–¢–û–õ–¨–ö–û** —Å–ª–µ–¥—É—é—â–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ç–∏–ø—ã:

* `Snapshot`
* `Intent`
* `PolicyAdjustedIntent`
* `Decision`
* `ExecutionResult`
* `Feedback`

---

# 3. SNAPSHOT

## 3.1 Purpose

`Snapshot` —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –Ω–∞–±–ª—é–¥–∞–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∏—Ä–∞
–≤ **–æ–¥–∏–Ω –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏**.

---

## 3.2 Structure

```
Snapshot
‚îú‚îÄ‚îÄ market
‚îú‚îÄ‚îÄ position
‚îú‚îÄ‚îÄ time
‚îî‚îÄ‚îÄ constraints
```

---

## 3.3 Snapshot.market (MarketSnapshot)

| Field       | Semantic Type | Description                       |
| ----------- | ------------- | --------------------------------- |
| symbol      | symbol        | —Ç–æ—Ä–≥–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç               |
| tf          | timeframe     | —Ç–∞–π–º—Ñ—Ä–µ–π–º                         |
| open        | price         | —Ü–µ–Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è –±–∞—Ä–∞                |
| high        | price         | –º–∞–∫—Å–∏–º—É–º –±–∞—Ä–∞                     |
| low         | price         | –º–∏–Ω–∏–º—É–º –±–∞—Ä–∞                      |
| close       | price         | —Ü–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –±–∞—Ä–∞                |
| volume      | volume        | –æ–±—ä—ë–º –±–∞—Ä–∞                        |
| bid         | price         | —Ç–µ–∫—É—â–∏–π bid                       |
| ask         | price         | —Ç–µ–∫—É—â–∏–π ask                       |
| spread      | price         | ask ‚àí bid                         |
| last_closes | price[3]      | –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–∫—Ä—ã—Ç—ã—Ö –±–∞—Ä–æ–≤ |
| point_size  | price 		  | –º–∏–Ω. —Ü–µ–Ω–æ–≤–æ–π —à–∞–≥ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ 	  |
| trailing_stop_price | price | –ø–æ—Å–ª. –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–π trailing stop|

### last_closes ‚Äî Normative Semantics

* —Å–æ–¥–µ—Ä–∂–∏—Ç **–¢–û–õ–¨–ö–û –∑–∞–∫—Ä—ã—Ç—ã–µ –±–∞—Ä—ã**
* –¥–ª–∏–Ω–∞ –º–∞—Å—Å–∏–≤–∞ **—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ = 3**
* –ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—Ç—Ä–æ–≥–æ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
* –∑–Ω–∞—á–µ–Ω–∏—è —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è **Observer**
* downstream —Ä–æ–ª–∏ **–ù–ï –ú–û–ì–£–¢** –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å

`last_closes`:

* –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º
* –Ω–µ –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç—Å—è
* –Ω–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç—Å—è

---

## 3.4 Snapshot.position (PositionSnapshot)

| Field        | Type      | Description         |
| ------------ | --------- | ------------------- |
| has_position | bool      | –Ω–∞–ª–∏—á–∏–µ –ø–æ–∑–∏—Ü–∏–∏     |
| direction    | direction | +1 / ‚àí1             |
| volume       | volume    | —Ç–µ–∫—É—â–∏–π –æ–±—ä—ë–º       |
| entry_price  | price     | —Ü–µ–Ω–∞ –≤—Ö–æ–¥–∞          |
| floating_pnl | money     | –ø–ª–∞–≤–∞—é—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |

---

## 3.5 Snapshot.time (TimeContext)

| Field                  | Type      | Description                 |
| ---------------------- | --------- | --------------------------- |
| timestamp              | timestamp | —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è               |
| is_new_bar             | bool      | —Ñ–ª–∞–≥ –Ω–æ–≤–æ–≥–æ –±–∞—Ä–∞            |
| bars_since_entry       | count     | –±–∞—Ä–æ–≤ —Å –≤—Ö–æ–¥–∞               |
| bars_since_last_action | count     | –±–∞—Ä–æ–≤ —Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è |

---

## 3.6 Snapshot.constraints (MarketConstraints)

| Field              | Type   | Description        |
| ------------------ | ------ | ------------------ |
| min_lot            | volume | –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ª–æ—Ç    |
| lot_step           | volume | —à–∞–≥ –ª–æ—Ç–∞           |
| min_stop           | price  | –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å—Ç–æ–ø   |
| is_trading_allowed | bool   | —Ç–æ—Ä–≥–æ–≤–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∞ |

---

# 4. INTENT

## Structure

```
Intent
‚îú‚îÄ‚îÄ type
‚îú‚îÄ‚îÄ direction
‚îî‚îÄ‚îÄ confidence
```

| Field      | Type        | Description         |
| ---------- | ----------- | ------------------- |
| type       | intent_type | –∫–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–∞–º–µ—Ä–µ–Ω–∏—è |
| direction  | direction   | ‚àí1 / 0 / +1         |
| confidence | ratio       | 0.0 ‚Ä¶ 1.0           |

### intent_type (enum)

* `NO_ACTION`
* `WANT_OPEN`
* `WANT_CLOSE`
* `WANT_HOLD`

---

# 5. POLICYADJUSTEDINTENT

## Structure

```
PolicyAdjustedIntent
‚îú‚îÄ‚îÄ type
‚îú‚îÄ‚îÄ direction
‚îú‚îÄ‚îÄ volume
‚îî‚îÄ‚îÄ tag
```

| Field     | Type        | Description            |
| --------- | ----------- | ---------------------- |
| type      | intent_type | –∫–∞—Ç–µ–≥–æ—Ä–∏—è              |
| direction | direction   | –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ            |
| volume    | volume      | –¥–æ–ø—É—Å—Ç–∏–º—ã–π –æ–±—ä—ë–º       |
| tag       | string      | –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª–∏—Ç–∏–∫–∏ |

### Normative Rules

* `PolicyAdjustedIntent` ‚Äî **–ù–ï –∫–æ–º–∞–Ω–¥–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è**
* –î–ª—è `WANT_OPEN`:

  * `direction ‚àà {+1, ‚àí1}`
  * `volume` –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
* –î–ª—è `WANT_CLOSE`:

  * `direction = 0`
  * `volume` –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω

---

# 6. DECISION

## Structure

```
Decision
‚îú‚îÄ‚îÄ status
‚îú‚îÄ‚îÄ action
‚îú‚îÄ‚îÄ direction
‚îú‚îÄ‚îÄ volume
‚îú‚îÄ‚îÄ symbol
‚îî‚îÄ‚îÄ reason
```

| Field     | Type            | Description  |
| --------- | --------------- | ------------ |
| status    | decision_status | –∏—Ç–æ–≥         |
| action    | decision_action | OPEN / CLOSE |
| direction | direction       | –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ  |
| volume    | volume          | –æ–±—ä—ë–º        |
| symbol    | symbol          | –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç   |
| reason    | string          | –∫–æ–¥ –ø—Ä–∏—á–∏–Ω—ã  |

### decision_status

* `ACCEPT`
* `REJECT`
* `MODIFY`

### decision_action

* `OPEN`
* `CLOSE`

---

# 7. EXECUTIONRESULT

```
ExecutionResult
‚îú‚îÄ‚îÄ status
‚îú‚îÄ‚îÄ filled_volume
‚îî‚îÄ‚îÄ price
```

| Field         | Type             |
| ------------- | ---------------- |
| status        | execution_status |
| filled_volume | volume           |
| price         | price            |

### execution_status

* `EXECUTED`
* `REJECTED`
* `PARTIAL`
* `FAILED`

---

# 8. FEEDBACK

```
Feedback
‚îú‚îÄ‚îÄ event
‚îú‚îÄ‚îÄ pnl
‚îî‚îÄ‚îÄ message
```

| Field   | Type           |
| ------- | -------------- |
| event   | feedback_event |
| pnl     | money          |
| message | string         |

### feedback_event

* `POSITION_OPENED`
* `POSITION_CLOSED`
* `STOP_HIT`
* `TARGET_HIT`
* `ACTION_REJECTED`

---

# 9. SEMANTIC TYPES (REFERENCE)

| Type      | Meaning               |
| --------- | --------------------- |
| price     | —Ü–µ–Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ      |
| volume    | –æ–±—ä—ë–º                 |
| money     | –¥–µ–Ω–µ–∂–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç    |
| ratio     | 0.0 ‚Ä¶ 1.0             |
| count     | —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–π —Å—á—ë—Ç—á–∏–∫ |
| timestamp | –≤—Ä–µ–º—è                 |
| direction | ‚àí1 / 0 / +1           |
| timeframe | —Ç–∞–π–º—Ñ—Ä–µ–π–º             |
| symbol    | —Ç–æ—Ä–≥–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç   |

---

# 10. GLOBAL PROHIBITIONS

‚ùå –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π –±–µ–∑ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ Lexicon
‚ùå –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
‚ùå —Å–∏–Ω–æ–Ω–∏–º—ã
‚ùå –≤–µ—Ä—Å–∏–∏ –≤ –∏–º–µ–Ω–∞—Ö —Ç–∏–ø–æ–≤

---

**END OF CONTRACT LEXICON v1.0**

---

