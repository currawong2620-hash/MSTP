# üü• TECH SPEC ‚Äî Executor v1.0 (REAL) ‚Äî REVISED

**–ü—Ä–æ–µ–∫—Ç:** Trading Platform (MQL5)
**–ü–æ–¥—Å–∏—Å—Ç–µ–º–∞:** Execution
**–†–æ–ª—å:** `Executor`
**–í–µ—Ä—Å–∏—è:** v1.0
**–°—Ç–∞—Ç—É—Å:** Draft ‚Üí Master-Chat approval
**–û—Å–Ω–æ–≤–∞–Ω–∏—è (–Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ):** SSP v1.0, CONTRACT_LEXICON v1.0, NAMING_RULES v1.0, ROLE_CALL_CONTRACTS_MQL5 v0.1, Architecture Data Flow Model v1.0, Visual Observability Model v1.0

---

## 0. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

`Executor v1.0` –≤—ã–ø–æ–ª–Ω—è–µ—Ç **–ø–æ–ø—ã—Ç–∫—É –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è** –ø–æ –≤—Ö–æ–¥–Ω–æ–º—É `Decision` –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç **—Ç–æ–ª—å–∫–æ —Ñ–∞–∫—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞** –≤ `ExecutionResult`.
Executor **–Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–π**, **–Ω–µ —á–∏—Ç–∞–µ—Ç Snapshot/Intent**, **–Ω–µ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç Feedback**.„Äêturn2file5‚Ä†ARCHITECTURE_DATA_FLOW_MODEL_v1.0.md‚Ä†L36-L55„Äë„Äêturn2file3‚Ä†ROLE_CALL_CONTRACTS_MQL5_v0.1.md‚Ä†L34-L39„Äë

---

## 1. –ü—É–±–ª–∏—á–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω, –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ)

```mq5
void Executor_Run(
    const Decision &decision,
    ExecutionResult &out_result
);
```

–°–∏–≥–Ω–∞—Ç—É—Ä–∞ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è.„Äêturn2file3‚Ä†ROLE_CALL_CONTRACTS_MQL5_v0.1.md‚Ä†L27-L39„Äë

---

## 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ)

Executor:

* —á–∏—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ `Decision`**„Äêturn2file5‚Ä†ARCHITECTURE_DATA_FLOW_MODEL_v1.0.md‚Ä†L13-L18„Äë
* —Å–æ–∑–¥–∞—ë—Ç **—Ç–æ–ª—å–∫–æ `ExecutionResult`**„Äêturn2file5‚Ä†ARCHITECTURE_DATA_FLOW_MODEL_v1.0.md‚Ä†L42-L49„Äë
* **–Ω–µ —á–∏—Ç–∞–µ—Ç** `Snapshot`, `Intent`, `PolicyAdjustedIntent`, `Feedback`„Äêturn2file3‚Ä†ROLE_CALL_CONTRACTS_MQL5_v0.1.md‚Ä†L34-L39„Äë„Äêturn2file10‚Ä†ARCHITECTURE_DATA_FLOW_MODEL_v1.0.md‚Ä†L17-L19„Äë
* **–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–æ–ª—å**, –∫–æ—Ç–æ—Ä–∞—è –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –¥–µ—Ä–≥–∞—Ç—å MT5 trade API (–∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ)

---

## 3. –í—Ö–æ–¥–Ω—ã–µ/–≤—ã—Ö–æ–¥–Ω—ã–µ —Ç–∏–ø—ã (—Ç–æ–ª—å–∫–æ Lexicon)

### 3.1 Decision (–≤—Ö–æ–¥)

`Decision.status ‚àà {ACCEPT, REJECT, MODIFY}`
`Decision.volume` ‚Äî —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–π –æ–±—ä—ë–º
`Decision.reason` ‚Äî —Å—Ç—Ä–æ–∫–∞ –ø—Ä–∏—á–∏–Ω—ã (Executor –Ω–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç)„Äêturn2file1‚Ä†CONTRACT_LEXICON_v1.0.md‚Ä†L10-L30„Äë

### 3.2 ExecutionResult (–≤—ã—Ö–æ–¥)

–ü–æ–ª—è (—Å—Ç—Ä–æ–≥–æ):

* `status : execution_status`
* `filled_volume : volume`
* `price : price`„Äêturn2file1‚Ä†CONTRACT_LEXICON_v1.0.md‚Ä†L33-L63„Äë

`execution_status ‚àà {EXECUTED, REJECTED, PARTIAL, FAILED}`„Äêturn2file1‚Ä†CONTRACT_LEXICON_v1.0.md‚Ä†L57-L63„Äë

---

## 4. –£—Å–ª–æ–≤–∏—è –≤—ã–∑–æ–≤–∞ Executor (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ)

### 4.1 Decision = REJECT (–≤–Ω–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ Executor)

–ü—Ä–∏ `Decision.status = REJECT`:

* `Executor_Run` **–ù–ï –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è**
* `ExecutionResult` **–ù–ï —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è Executor-–æ–º**

–§–∞–∫—Ç –æ—Ç–∫–∞–∑–∞ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è **–≤–Ω–µ Executor** (Coordinator/FeedbackSource –ø–æ —Å–≤–æ–µ–º—É –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–º—É –∫–æ–Ω—Ç—É—Ä—É), –Ω–æ **–Ω–µ –≤–Ω—É—Ç—Ä–∏ Executor**.„Äêturn2file3‚Ä†ROLE_CALL_CONTRACTS_MQL5_v0.1.md‚Ä†L34-L39„Äë„Äêturn2file7‚Ä†DUMMY_STRATEGY_SPEC_v0.1.md‚Ä†L65-L72„Äë

---

## 5. –°–µ–º–∞–Ω—Ç–∏–∫–∞ `Decision.volume` (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)

Executor –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **`Decision.volume` –∫–∞–∫ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–æ–ø—É—Å—Ç–∏–º—ã–π –æ–±—ä—ë–º –¥–ª—è –ø–æ–ø—ã—Ç–∫–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è**,
**–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è `Decision.status` (ACCEPT –∏–ª–∏ MODIFY)**.

Executor **–ù–ï —Ä–∞–∑–ª–∏—á–∞–µ—Ç** ‚Äú–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å‚Äù –æ–±—ä—ë–º–∞ –∏ **–ù–ï –¥–µ–ª–∞–µ—Ç –≤—ã–≤–æ–¥–æ–≤** –æ —Ç–æ–º, –ø–æ—á–µ–º—É –æ–±—ä—ë–º –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–æ–π.„Äêturn2file5‚Ä†ARCHITECTURE_DATA_FLOW_MODEL_v1.0.md‚Ä†L28-L33„Äë„Äêturn2file1‚Ä†CONTRACT_LEXICON_v1.0.md‚Ä†L19-L30„Äë

---

## 6. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ ExecutionResult (—Ñ–∞–∫—Ç–æ–ª–æ–≥–∏—è)

### 6.1 –û–±—â–∏–π –ø—Ä–∏–Ω—Ü–∏–ø

`ExecutionResult` —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç **—Ç–æ–ª—å–∫–æ –Ω–∞–±–ª—é–¥–∞–µ–º—ã–π —Ñ–∞–∫—Ç** —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–æ–ø—ã—Ç–∫–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è, –±–µ–∑ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –ø—Ä–∏—á–∏–Ω.„Äêturn2file5‚Ä†ARCHITECTURE_DATA_FLOW_MODEL_v1.0.md‚Ä†L40-L65„Äë

### 6.2 Mapping MT5 ‚Üí ExecutionResult.status

Executor –æ–±—è–∑–∞–Ω –∑–∞–ø–æ–ª–Ω–∏—Ç—å `ExecutionResult` –æ–¥–Ω–∏–º –∏–∑ —Å—Ç–∞—Ç—É—Å–æ–≤ Lexicon:

* `EXECUTED` ‚Äî —Ñ–∞–∫—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (–ø–æ–ª–Ω–æ—Å—Ç—å—é)
* `PARTIAL` ‚Äî —Ñ–∞–∫—Ç —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
* `REJECTED` ‚Äî —Ñ–∞–∫—Ç –æ—Ç–∫–∞–∑–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ‚Äú–Ω–µ –ø—Ä–∏–Ω—è—Ç–æ‚Äù / ‚Äú–∑–∞–ø—Ä–µ—â–µ–Ω–æ‚Äù –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –±—Ä–æ–∫–µ—Ä–∞/—Å–µ—Ä–≤–µ—Ä–∞)
* `FAILED` ‚Äî **–ª—é–±–æ–π —Ñ–∞–∫—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è**, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –ø—Ä–∏—á–∏–Ω—ã –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ MT5 (requote/off quotes/no prices/etc.)

> **–£—Ç–æ—á–Ω–µ–Ω–∏–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ):** `FAILED` –æ–∑–Ω–∞—á–∞–µ—Ç *‚Äú–Ω–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–æ‚Äù* –∫–∞–∫ —Ñ–∞–∫—Ç, –±–µ–∑ –ø–æ–ø—ã—Ç–æ–∫ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–ª–∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –ø—Ä–∏—á–∏–Ω.

(–≠—Ç–æ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç: Executor = —Ñ–∞–∫—Ç–æ–ª–æ–≥–∏—è, –Ω–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è.)„Äêturn2file1‚Ä†CONTRACT_LEXICON_v1.0.md‚Ä†L57-L63„Äë„Äêturn2file5‚Ä†ARCHITECTURE_DATA_FLOW_MODEL_v1.0.md‚Ä†L57-L65„Äë

### 6.3 filled_volume –∏ price

* `filled_volume` ‚Äî —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –æ–±—ä—ë–º (0 –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–æ)
* `price` ‚Äî —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ü–µ–Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (0 –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–æ)

–¢–æ–ª—å–∫–æ –ø–æ–ª—è Lexicon, –±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π.„Äêturn2file1‚Ä†CONTRACT_LEXICON_v1.0.md‚Ä†L49-L56„Äë

---

## 7. –ó–∞–ø—Ä–µ—Ç—ã (–¥—É–±–ª–∏—Ä—É—é—Ç—Å—è —è–≤–Ω–æ)

Executor **–ù–ï –î–û–õ–ñ–ï–ù**:

* —á–∏—Ç–∞—Ç—å Snapshot/Intent/Feedback„Äêturn2file3‚Ä†ROLE_CALL_CONTRACTS_MQL5_v0.1.md‚Ä†L34-L39„Äë
* –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è ‚Äú–∏—Å–ø–æ–ª–Ω—è—Ç—å/–Ω–µ –∏—Å–ø–æ–ª–Ω—è—Ç—å‚Äù –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ —Ä—ã–Ω–∫–∞
* –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏—á–∏–Ω—ã/–∫–æ–¥—ã/—Å–æ–æ–±—â–µ–Ω–∏—è (–Ω–µ—Ç –ø–æ–ª–µ–π –≤ Lexicon)„Äêturn2file1‚Ä†CONTRACT_LEXICON_v1.0.md‚Ä†L49-L63„Äë
* —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å Feedback„Äêturn2file3‚Ä†ROLE_CALL_CONTRACTS_MQL5_v0.1.md‚Ä†L34-L39„Äë
* –≤—ã–ø–æ–ª–Ω—è—Ç—å retries, –∞–≥—Ä–µ–≥–∞—Ü–∏—é, –ø–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–µ (—ç—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç —á–∏—Å—Ç—ã–π –ø–æ—Ç–æ–∫ —Ñ–∞–∫—Ç–æ–≤)

---

## 8. Visual Observability (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è)

**Visual Tester —Ä–æ–ª–∏ Executor:** **Execution Facts Stream**
–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç **–¢–û–õ–¨–ö–û `ExecutionResult`** (read-only, –±–µ–∑ –ª–æ–≥–∏–∫–∏).„Äêturn2file4‚Ä†VISUAL_OBSERVABILITY_MODEL_v1.0.md‚Ä†L3-L26„Äë

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–∫—Ç–æ–≤ (–ø—Ä–∏–º–µ—Ä–Ω—ã–π, –Ω–µ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π):

* `timestamp` (–∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏)
* `ExecutionResult.status`
* `filled_volume`
* `price`

---

## 9. –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ (Audit Checklist)

–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π, –µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:

* ‚ùè —Ä–µ–∞–ª–∏–∑—É–µ—Ç `Executor_Run(decision, out_result)` –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–∏–≥–Ω–∞—Ç—É—Ä—ã„Äêturn2file3‚Ä†ROLE_CALL_CONTRACTS_MQL5_v0.1.md‚Ä†L27-L39„Äë
* ‚ùè **–Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è** –ø—Ä–∏ `Decision.status = REJECT` (—ç—Ç–æ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—å Coordinator)„Äêturn2file3‚Ä†ROLE_CALL_CONTRACTS_MQL5_v0.1.md‚Ä†L34-L39„Äë„Äêturn2file7‚Ä†DUMMY_STRATEGY_SPEC_v0.1.md‚Ä†L70-L72„Äë
* ‚ùè –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `Decision.volume` –∫–∞–∫ **–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–æ–ø—É—Å—Ç–∏–º—ã–π –æ–±—ä—ë–º** (ACCEPT/MODIFY –æ–¥–∏–Ω–∞–∫–æ–≤–æ)„Äêturn2file1‚Ä†CONTRACT_LEXICON_v1.0.md‚Ä†L19-L30„Äë
* ‚ùè –∑–∞–ø–æ–ª–Ω—è–µ—Ç `ExecutionResult` —Ç–æ–ª—å–∫–æ –ø–æ–ª—è–º–∏ Lexicon„Äêturn2file1‚Ä†CONTRACT_LEXICON_v1.0.md‚Ä†L49-L63„Äë
* ‚ùè —Ç—Ä–∞–∫—Ç—É–µ—Ç `FAILED` –∫–∞–∫ **–ª—é–±–æ–π —Ñ–∞–∫—Ç –Ω–µ–∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è** (–±–µ–∑ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–∏—á–∏–Ω)
* ‚ùè –∏–º–µ–µ—Ç Visual Tester ‚ÄúExecution Facts Stream‚Äù —Ç–æ–ª—å–∫–æ –ø–æ `ExecutionResult`„Äêturn2file4‚Ä†VISUAL_OBSERVABILITY_MODEL_v1.0.md‚Ä†L3-L26„Äë

---

## 10. Freeze rule

–ü–æ—Å–ª–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏ –ø—Ä–∏—ë–º–∫–∏:

> **Executor v1.0 –∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç—Å—è.**
> –õ—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è/—Å–µ–º–∞–Ω—Ç–∏–∫–∏ ‚Üí **Executor v1.1** + –Ω–æ–≤–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è.

---

**END OF TECH SPEC ‚Äî Executor v1.0 (REAL) ‚Äî REVISED**
