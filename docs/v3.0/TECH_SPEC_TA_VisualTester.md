# üü• TECH SPEC ‚Äî TrendAnalyzer Visual Tester **v0.1**

**Component:** TrendAnalyzer Visual Tester
**Layer:** Runtime UI (Runner-level)
**Type:** Analytical Visualisation Panel
**Status:** FIXED
**Authority:** Master-Chat
**Architectural status:** **NON-ARCHITECTURAL**
**Change policy:** versioned only
**Language:** STRICT MQL5

---

## 0. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

`TrendAnalyzer Visual Tester v0.1` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω **–∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ** –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è
–∑–∞ **—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–º –≤—ã—Ö–æ–¥–æ–º –º–æ–¥—É–ª—è `TrendAnalyzer`** –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞–º.

–ü–∞–Ω–µ–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å:

> **¬´–ö–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–µ–Ω–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç TrendAnalyzer
> –ø–æ –∫–∞–∂–¥–æ–º—É —Ç–∞–π–º—Ñ—Ä–µ–π–º—É –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å?¬ª**

---

## 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è (–ñ–Å–°–¢–ö–û)

* Visual Tester:

  * **–ù–ï —è–≤–ª—è–µ—Ç—Å—è —Ä–æ–ª—å—é SSP**
  * **–ù–ï —É—á–∞—Å—Ç–≤—É–µ—Ç** –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–º –ø–æ—Ç–æ–∫–µ –¥–∞–Ω–Ω—ã—Ö
  * **–ù–ï –≤–ª–∏—è–µ—Ç** –Ω–∞ —Ç–æ—Ä–≥–æ–≤–ª—é, —Ä–µ—à–µ–Ω–∏—è –∏–ª–∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—é
* –†–∞–∑–º–µ—â–∞–µ—Ç—Å—è **–¢–û–õ–¨–ö–û** –≤:

  ```
  Runner (.mq5)
  ```
* –ù–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∏ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑:

  * TrendAnalyzer
  * Coordinator
  * –ª—é–±—ã—Ö —Ä–æ–ª–µ–π SSP

---

## 2. –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö (–ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ï –î–û–ü–£–°–¢–ò–ú–´–ï)

Visual Tester **–ú–û–ñ–ï–¢ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¢–û–õ–¨–ö–û**:

```
TrendAnalyzer_Run(symbol, timeframe) ‚Üí TrendAnalysisResult
```

Visual Tester **–ù–ï –ú–û–ñ–ï–¢ —á–∏—Ç–∞—Ç—å**:

‚ùå Snapshot
‚ùå Observer
‚ùå Intent
‚ùå PolicyAdjustedIntent
‚ùå Decision
‚ùå ExecutionResult
‚ùå Feedback

---

## 3. –í—Ö–æ–¥–Ω–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç

### 3.1 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```
Input:
  symbol       : string
  timeframes[] : ENUM_TIMEFRAMES[]
```

–ò—Å—Ç–æ—á–Ω–∏–∫:

* Runner
* test harness
* —Ä—É—á–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### 3.2 –ü—Ä–∞–≤–∏–ª–∞

* —Å–ø–∏—Å–æ–∫ —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤:

  * –∑–∞–¥–∞—ë—Ç—Å—è **—è–≤–Ω–æ**
  * –ø–æ—Ä—è–¥–æ–∫ **—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è**
  * –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å `>= 1` —ç–ª–µ–º–µ–Ω—Ç–∞
* Visual Tester **–ù–ï –ø–∞—Ä—Å–∏—Ç —Å—Ç—Ä–æ–∫–∏**
* Visual Tester **–ù–ï –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç TF**
  (–≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å ‚Äî –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å Runner)

---

## 4. –í—ã—Ö–æ–¥–Ω–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç (–¢–û–õ–¨–ö–û –í–ò–ó–£–ê–õ–¨–ù–´–ô)

–î–ª—è –∫–∞–∂–¥–æ–≥–æ `timeframe ‚àà timeframes[]`:

```
TrendAnalysisResult
‚îú‚îÄ‚îÄ timeframe
‚îú‚îÄ‚îÄ regime
‚îú‚îÄ‚îÄ direction
‚îî‚îÄ‚îÄ confidence
```

### –ù–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ

> Visual Tester **–ù–ï –ò–ú–ï–ï–¢ –ü–†–ê–í–ê**
> –≤—ã–≤–æ–¥–∏—Ç—å –Ω–∏—á–µ–≥–æ, –∫—Ä–æ–º–µ –ø–æ–ª–µ–π,
> —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö—Å—è –≤ `TrendAnalysisResult`.

---

## 5. –ü–æ–≤–µ–¥–µ–Ω–∏–µ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞–Ω–µ–ª–∏:

```
for tf in timeframes[]
  call TrendAnalyzer_Run(symbol, tf)
  render TrendAnalysisResult
```

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

* –æ–¥–∏–Ω –≤—ã–∑–æ–≤ = –æ–¥–∏–Ω —Ç–∞–π–º—Ñ—Ä–µ–π–º
* –±–µ–∑ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
* –±–µ–∑ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
* –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —á–∞—Å—Ç–æ—Ç—ã

---

## 6. –§–æ—Ä–º–∞—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (–§–ò–ö–°–ò–†–û–í–ê–ù–ù–´–ô)

### –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–∞–Ω–µ–ª–∏

```
TREND ANALYZER ‚Äî MULTI TIMEFRAME
Symbol: <symbol>
```

---

### –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```
TF    | Regime   | Dir | Confidence
-----------------------------------
M5    | TREND    | +1  | 0.78
M15   | RANGE    |  0  | 0.00
H1    | UNKNOWN  |  0  | 0.00
```

### –ü—Ä–∞–≤–∏–ª–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

* `TF` ‚Äî —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ ENUM_TIMEFRAMES
* `Regime` ‚Äî —Ä–æ–≤–Ω–æ enum-–∑–Ω–∞—á–µ–Ω–∏–µ
* `Dir` ‚Äî —á–∏—Å–ª–µ–Ω–Ω–æ: `-1 / 0 / +1`
* `Confidence` ‚Äî —á–∏—Å–ª–æ `[0.0 ‚Ä¶ 1.0]`
* –ø–æ—Ä—è–¥–æ–∫ —Å—Ç—Ä–æ–∫ = –ø–æ—Ä—è–¥–æ–∫ –≤—Ö–æ–¥–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞

---

## 7. –ö–∞—Ç–µ–≥–æ—Ä–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–µ—Ç—ã (CRITICAL)

TrendAnalyzer Visual Tester **–ó–ê–ü–†–ï–©–ï–ù–û**:

‚ùå –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
‚ùå –¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥—ã –æ —Ä—ã–Ω–∫–µ
‚ùå –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–≤–µ—Ç –∫–∞–∫ —Å–º—ã—Å–ª
‚ùå —Ä–∏—Å–æ–≤–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
‚ùå –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç—Ä–µ–ª–∫–∏, –∑–æ–Ω—ã, —É—Ä–æ–≤–Ω–∏
‚ùå –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ—è—Å–Ω—è—é—â–∏–π —Ç–µ–∫—Å—Ç
‚ùå —Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏
‚ùå –≤–ª–∏—è—Ç—å –Ω–∞ —á–∞—Å—Ç–æ—Ç—É –≤—ã–∑–æ–≤–æ–≤ TrendAnalyzer

---

## 8. Determinism

Visual Tester **–û–ë–Ø–ó–ê–ù**:

* –Ω–µ –∏–º–µ—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
* –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å **—Ä–æ–≤–Ω–æ —Ç–æ**, —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç TrendAnalyzer
* –ø—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–º —Ä—ã–Ω–∫–µ –∏ –≤—Ö–æ–¥–µ ‚Äî
  –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

---

## 9. –ì—Ä–∞–Ω–∏—Ü—ã –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç     | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å |
| ------------- | --------------- |
| TrendAnalyzer | –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–∞   |
| Visual Tester | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ     |
| Runner        | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è    |

–õ—é–±–æ–µ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π ‚Üí –¥–µ—Ñ–µ–∫—Ç.

---

## 10. –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π –≤–æ–ø—Ä–æ—Å (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô)

> –ú–æ–∂–Ω–æ –ª–∏, –≥–ª—è–¥—è –¢–û–õ–¨–ö–û –Ω–∞ —ç—Ç—É –ø–∞–Ω–µ–ª—å,
> –ø–æ–Ω—è—Ç—å **–≤—ã—Ö–æ–¥ TrendAnalyzer –ø–æ –∫–∞–∂–¥–æ–º—É TF**,
> **–Ω–µ –∑–Ω–∞—è –Ω–∏—á–µ–≥–æ –æ —Ç–æ—Ä–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ**?

–ï—Å–ª–∏ –¥–∞ ‚Äî SPEC —Å–æ–±–ª—é–¥—ë–Ω.

---

## 11. –°—Ç–∞—Ç—É—Å –≤–µ—Ä—Å–∏–∏

* **v0.1 ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è**
* —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è ‚Üí **–¢–û–õ–¨–ö–û v0.2**
* –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ ‚Üí **breaking change**

---

**END OF TECH SPEC ‚Äî TrendAnalyzer Visual Tester v0.1**
