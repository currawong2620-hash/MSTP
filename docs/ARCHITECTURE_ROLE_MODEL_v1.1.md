# üîí ARCHITECTURE FIXATION

## Multi-Strategy Platform ‚Äî Role Substitution Model

**Status:** FIXED
**Scope:** System-wide
**Change policy:** only via new version

---

## 1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–∞ ¬´—Å—Ç—Ä–∞—Ç–µ–≥–∏—è¬ª

–í —Å–∏—Å—Ç–µ–º–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–¥–≤–æ–π–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–∞ ‚Äú—Å—Ç—Ä–∞—Ç–µ–≥–∏—è‚Äù**:

### 1.1. –°—Ç—Ä–∞—Ç–µ–≥–∏—è (—Ç—Ä–µ–π–¥–µ—Ä—Å–∫–∏–π, —à–∏—Ä–æ–∫–∏–π —Å–º—ã—Å–ª)

> **–°—Ç—Ä–∞—Ç–µ–≥–∏—è** ‚Äî —ç—Ç–æ —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç—å –ø—Ä–∞–≤–∏–ª:
>
> * –∫–∞–∫ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä—ã–Ω–æ–∫,
> * –∫–∞–∫ –≤—Ö–æ–¥–∏—Ç—å,
> * –∫–∞–∫ –≤–µ—Å—Ç–∏ –ø–æ–∑–∏—Ü–∏—é,
> * –∫–∞–∫ –≤—ã—Ö–æ–¥–∏—Ç—å,
> * –ø—Ä–∏ –∫–∞–∫–∏—Ö —Ä–∏—Å–∫–∞—Ö —ç—Ç–æ –¥–æ–ø—É—Å—Ç–∏–º–æ.

‚ö†Ô∏è –í –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ **–ù–ï —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** –µ–¥–∏–Ω–æ–≥–æ –º–æ–¥—É–ª—è, —Ä–µ–∞–ª–∏–∑—É—é—â–µ–≥–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –≤ —ç—Ç–æ–º —Å–º—ã—Å–ª–µ.

---

### 1.2. –°—Ç—Ä–∞—Ç–µ–≥–∏—è (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Å–º—ã—Å–ª)

–í –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è **—Ä–∞–∑–ª–æ–∂–µ–Ω–∞ –Ω–∞ –æ—Ä—Ç–æ–≥–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–æ–ª–∏**, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –∏–º–µ–µ—Ç **—Å—Ç—Ä–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**.

---

## 2. –ó–∞–º–µ–Ω—è–µ–º—ã–µ —Ä–æ–ª–∏ (–ø–ª–∞–≥–∏–Ω—ã)

–î–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ **–º—É–ª—å—Ç–∏-—Å—Ç—Ä–∞—Ç–µ–≥–∏–π–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã** –∑–∞–º–µ–Ω—è–µ–º—ã–º–∏ (–ø–ª–∞–≥–∏–Ω-—Ä–æ–ª—è–º–∏) –æ–±—ä—è–≤–ª—è—é—Ç—Å—è **–¢–û–õ–¨–ö–û —Å–ª–µ–¥—É—é—â–∏–µ —Ä–æ–ª–∏**.

---

### üü• ROLE A ‚Äî Decision Maker

**(Market Interpretation Logic)**

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**

* –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä—ã–Ω–æ—á–Ω–æ–≥–æ —Å–Ω–∏–º–∫–∞,
* —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –Ω–∞–º–µ—Ä–µ–Ω–∏—è.

**–û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å:**

> *–ß—Ç–æ —è –•–û–ß–£ —Å–¥–µ–ª–∞—Ç—å, –∏—Å—Ö–æ–¥—è –∏–∑ —Ä—ã–Ω–∫–∞ –∏ –ø—Ä–æ—à–ª–æ–≥–æ –æ–ø—ã—Ç–∞?*

**–í–∏–¥–∏—Ç:**

* Market Snapshot
* Feedback

**–ù–µ –≤–∏–¥–∏—Ç:**

* –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ,
* –æ—Ä–¥–µ—Ä–∞,
* –ø–æ–∑–∏—Ü–∏–∏ –∫–∞–∫ –º–µ—Ö–∞–Ω–∏–∫—É,
* —Ä–∏—Å–∫-–ª–∏–º–∏—Ç—ã.

**–í—ã—Ö–æ–¥:**

* `Intent`

**–°—Ç–∞—Ç—É—Å:**

* ‚úÖ **–ó–∞–º–µ–Ω—è–µ–º–∞—è —Ä–æ–ª—å**
* —Ä–∞–∑–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ = —Ä–∞–∑–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ –∏–¥–µ–∏

---

### üü• ROLE B ‚Äî Position Policy Manager

**(Position Ownership & Lifecycle Policy)**

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**

* —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ **–º–µ—Ç–æ–¥–∏–∫–æ–π –≤–ª–∞–¥–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–µ–π –≤–æ –≤—Ä–µ–º–µ–Ω–∏**.

**–û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å:**

> *–ö–ê–ö —è –º–æ–≥—É –≤–ª–∞–¥–µ—Ç—å –ø–æ–∑–∏—Ü–∏–µ–π, –µ—Å–ª–∏ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –≤–æ–∑–Ω–∏–∫–ª–æ?*

**–ü—Ä–∏–º–µ—Ä—ã –ø–æ–ª–∏—Ç–∏–∫:**

* single position only
* pyramiding
* grid
* martingale
* partial close
* trailing / scale-in / scale-out

**–í–∏–¥–∏—Ç:**

* Intent
* Position Snapshot
* Feedback
* In v1.1, PositionPolicyManager is allowed to read
	limited market prices from Snapshot
	exclusively for exit / lifecycle enforcement,
	not for strategy or signal logic.

**–ù–µ –≤–∏–¥–∏—Ç:**

* —Ä—ã–Ω–æ–∫ –Ω–∞–ø—Ä—è–º—É—é,
* –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã,
* —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫—É—é –ª–æ–≥–∏–∫—É.

**–í—ã—Ö–æ–¥:**

* `PolicyAdjustedIntent` (0..N –Ω–∞–º–µ—Ä–µ–Ω–∏–π –∏–ª–∏ –æ—Ç–∫–∞–∑)

**–°—Ç–∞—Ç—É—Å:**

* ‚úÖ **–ó–∞–º–µ–Ω—è–µ–º–∞—è —Ä–æ–ª—å**
* –æ—Ä—Ç–æ–≥–æ–Ω–∞–ª—å–Ω–∞ Decision Maker

---

### üü• ROLE C ‚Äî Risk / Arbiter Policy

**(Admissibility & Risk Control)**

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**

* —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –æ –¥–æ–ø—É—Å—Ç–∏–º–æ—Å—Ç–∏ –¥–µ–π—Å—Ç–≤–∏–π.

**–û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å:**

> *–†–ê–ó–†–ï–®–ï–ù–û –ª–∏ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —Ä–∏—Å–∫–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π?*

**–ü—Ä–∏–º–µ—Ä—ã:**

* max risk per trade
* daily loss limit
* exposure caps
* regulatory / broker limits
* FSM-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

**–í–∏–¥–∏—Ç:**

* PolicyAdjustedIntent
* Snapshot (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ)
* –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ª–∏–º–∏—Ç—ã

**–ù–µ –≤–∏–¥–∏—Ç:**

* —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫—É—é –ª–æ–≥–∏–∫—É,
* –º–µ—Ö–∞–Ω–∏–∫—É –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è.

**–í—ã—Ö–æ–¥:**

* `Decision` (ACCEPT / REJECT / MODIFY)

**–°—Ç–∞—Ç—É—Å:**

* ‚úÖ **–ó–∞–º–µ–Ω—è–µ–º–∞—è —Ä–æ–ª—å**

---

## 3. –ù–µ–∑–∞–º–µ–Ω—è–µ–º—ã–µ —Ä–æ–ª–∏ (–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)

–°–ª–µ–¥—É—é—â–∏–µ —Ä–æ–ª–∏ **–ù–ï —è–≤–ª—è—é—Ç—Å—è –ø–ª–∞–≥–∏–Ω–∞–º–∏** –∏ **–ù–ï —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –º—É–ª—å—Ç–∏-—Å—Ç—Ä–∞—Ç–µ–≥–∏–π–Ω–æ—Å—Ç–∏**.

---

### ‚ùå Observer

* –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –æ —Ä—ã–Ω–∫–µ –∏ –≤—Ä–µ–º–µ–Ω–∏
* —Ñ–æ—Ä–º–∞—Ç —Å–Ω–∏–º–∫–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω
* –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å ¬´—Ä–∞–∑–Ω—ã–º –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π¬ª

---

### ‚ùå Executor

* –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
* –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫–∏ —Ä–µ—à–µ–Ω–∏–π
* —Ä–µ–∂–∏–º—ã –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è ‚â† —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

---

### ‚ùå Feedback Source

* —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Ñ–∞–∫—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å
* –Ω–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç –∏ –Ω–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç

---

### ‚ùå Coordinator

* —É–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –∏ –ø–æ—Ä—è–¥–∫–æ–º –≤—ã–∑–æ–≤–æ–≤
* –∏–∑–º–µ–Ω–µ–Ω–∏–µ Coordinator = –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ü–µ–ª–∏–∫–æ–º

---

## 4. –ö–æ–º–ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è –∫–∞–∫ –ø—Ä–æ–¥—É–∫—Ç** –≤ —Å–∏—Å—Ç–µ–º–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è **–ö–û–ú–ü–û–ó–ò–¶–ò–ï–ô**:

```
Trader Strategy =
{
  Decision Maker
  + Position Policy Manager
  + Risk / Arbiter Policy
}
```

–ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:

* –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ,
* –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ,
* —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.

---

## 5. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Å–ª–µ–¥—Å—Ç–≤–∏–µ (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ)

‚ùó –ù–∏ –æ–¥–∏–Ω –º–æ–¥—É–ª—å **–ù–ï –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞**:

* –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –±–æ–ª–µ–µ –æ–¥–Ω–æ–π –∏–∑ —ç—Ç–∏—Ö —Ç—Ä—ë—Ö —Ä–æ–ª–µ–π,
* –Ω–∞–ø—Ä—è–º—É—é –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –ª–æ–≥–∏–∫–µ –¥—Ä—É–≥–æ–π —Ä–æ–ª–∏,
* –∑–Ω–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥—Ä—É–≥–æ–π —Ä–æ–ª–∏.

–ù–∞—Ä—É—à–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –¥–µ—Ñ–µ–∫—Ç–æ–º**.

---

## 6. –°—Ç–∞—Ç—É—Å —Ñ–∏–∫—Å–∞—Ü–∏–∏

* –¥–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä —Ä–æ–ª–µ–π —Å—á–∏—Ç–∞–µ—Ç—Å—è **–ø–æ–ª–Ω—ã–º**
* –Ω–æ–≤—ã–µ —Ä–æ–ª–∏ **–ù–ï –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è**
* —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ **–¢–û–õ–¨–ö–û** —á–µ—Ä–µ–∑ –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞

---

**END OF FIXATION**

